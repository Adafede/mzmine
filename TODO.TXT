
TODO list for MZmine 2.0 release

***** Core modules *****

Desktop
* Bug: when retention time format is set to hh:mm:ss, it starts at 12:00:00, instead of 00:00:00
* When data file or peak list is removed, all visualizers showing this file/peak list should be 
  closed as well, otherwise exceptions may occur


***** Raw data import *****

Parameters
* Bug: raw data importer parameter class has to properly implement
  StorableParameterSet - currently, the fileNames parameter is not saved

RAW file import using Thermo XCalibur DLL
* Raw file import is using too much memory. Memory is released when task is 
  finished, but importing one file may consume >500MB RAM during the process.

mzXML parsing
* MS/MS scans (<scan> elements) can be nested or not. Currently, MZmine only 
  recognizes nested version

Polarity support
* polarity attribute (+/-/?) should be added to Scan interface and import modules
  should recognize polarity

***** Raw data filtering *****

These algorithms are almost unchanged since original MZmine 1.
We should think how they can be applied to high-resolution data. 
Probably we need to improve the algorithms.
We may also consider implementing some preview mechanism, similar
to peak detection.


***** Visualizers *****

2D visualizer
* Need to set threshold for how many peaks will be annotated (Sandra)
* Color scale should be editable, similar as color scale of RT/MZ plots
* Intensity scale is now relative to the zoomed area. There should be a 
  setting to make it absolute (e.g. when comparing two files) 

3D visualizer
* Need to set threshold for how many peaks will be annotated
* There should be a setting for the intensity scale (e.g. when comparing
  two files)
* There should be a switch whether missing points in the grid should be
  approximated - makes sense only for continuous mode when looking in high
  detail
* Bug: 3D visualizer sometimes cannot start and throws this exception:
   visad.SetException: Gridded2DSet: samples do not form a valid grid
   especially when showing centroided data in detail?	 

Peak list table
* There should be another column "fold-change", user can select which samples/parameters are compared
* We need a function to show a specific row of the peak list, this should be easy to activate from
  other plots (e.g. scatter plot)


Scatter plot
* Scatter plot should be able to show average value from a group of samples 
  (defined by sample parameter)


TIC/XIC visualizer
* Bug: NullPointerException when TIC visualizer setup dialog is opening. (ParameterSetupDialog.java:303)

Spectrum visualizer
* Bug: opening a spectra with a non-existent scan number throws an exception  
* Bug: "Show isotope pattern" always opens the spectra visualizer in continuous mode


Peak list row summary visualizer
* After changing the peak using manual picker, the row summary is not updated

Project listeners
* Visualizers which set project listener need to remove that listener when their frame is closed, 
  otherwise garbage collector cannot collect them. Other solution may be to use SoftReference for
  project listeners.


***** Alignment *****

Join Alignment
Bug: When there is an error during the process, the frames for the messages apears empty. To reproduce it: try doing the alignment 
whit two peak list with more than one sample each list, and the option "compare isotope pattern" activated.


***** Normalization *****

* NOMIS method?

* After normalization, the information about isotope patterns is lost!


***** Identification *****

Related peaks search
* This module should perhaps be split into several modules for adduct search, 
  fragments search (using MS/MS), dimers etc. (Tomas)


***** Data analysis *****

RT/mz plots
* Color axis needs more informative title - instead of "Logratio" it should say 
  e.g. "log2(avg peak area(file1, file2) / avg peak area (file3, file4))"
* Setup dialog should use project parameters to split samples to groups

PCA plot
* Bug: PCA plot may freeze if data contains Double.NaN


***** MZviewer *****

MZviewer needs better integration with MainWindow (window title etc.) and MainMenu.


***** Documentation *****

Write documentation for the new code
* Comments in critical parts of the code (algorithms)
* Help files
* User's manual.
